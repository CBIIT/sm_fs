  <app-batch-approve-modal></app-batch-approve-modal>
  <div class="row">
    <div class="col-12">
      <h2>Results {{(filterTypeLabel && !(noFundingRequestResult && noFundingPlanResult)) ? '- ' + filterTypeLabel : ''}}</h2>
      <p *ngIf="noFundingRequestResult && noFundingPlanResult">No results to display. Try applying a filter above and clicking "Search".</p>
    </div>
  </div>
  <div class="row form-group">
    <div class="col-lg-12 d-flex">
      <button class="btn btn-primary" *ngIf="batchApproveEnabled" (click)="runDetailedReport()" >Run Report</button>
      <span *ngIf="!batchApproveEnabled" ngbTooltip="Select one or more request(s) or plan(s) to run Report">
        <button class="btn btn-primary" disabled>Run Report</button>
      </span>
      &nbsp;&nbsp;
      <span *ngIf="batchApproveVisible" >
      <button  class="btn btn-primary mt-3" (click)="showBatchApproveModal()" *ngIf="batchApproveEnabled">Batch Approve</button>
      <span  *ngIf="!batchApproveEnabled" ngbTooltip="Select one or more eligible request(s) or plan(s) to perform batch approve">
        <button class="btn btn-primary" disabled>Batch Approve</button>
      </span>
    </span>
    </div>

  </div>
  <div class="row"  [hidden]="noFundingRequestResult">
    <div class="col-12">
      <div>
        <table id="frDt" #frDt datatable [dtOptions]="dtFundingRequestOptions" [dtTrigger]="dtFundingRequestTrigger" class="row-border hover" style="width: 100%">
        </table>
        <!--          Renderer templates -->
        <ng-template #selectFundingRequestCheckboxRenderer let-data="adtData">
          <app-select-funding-request-checkbox-cell-renderer [data]="data" id="frqId" (emitter)="onCaptureFRSelectedEvent($event)"></app-select-funding-request-checkbox-cell-renderer>
        </ng-template>
        <ng-template #fullGrantNumberRenderer let-data="adtData">
          <app-full-grant-number-cell-renderer [data]="data" [eGrantsUrl]="eGrantsUrl" [grantViewerUrl]="grantViewerUrl"></app-full-grant-number-cell-renderer>
        </ng-template>
        <ng-template #cancerActivityRenderer let-data="adtData">
          <app-cancer-activity-cell-renderer [data]="data"></app-cancer-activity-cell-renderer>
        </ng-template>
        <ng-template #searchFundingRequestActionRenderer let-data="adtData">
          <app-search-funding-request-action-cell-renderer [data]="data" (emitter)="onOpenFundingRequest($event)"></app-search-funding-request-action-cell-renderer>
        </ng-template>
      </div>
    </div>
  </div>
  <div class="row" [hidden]="noFundingPlanResult">
    <div class="col-12">
      <div >
        <table id="fpDt" #fpDt datatable [dtOptions]="dtFundingPlanOptions" [dtTrigger]="dtFundingPlanTrigger" class="row-border hover" style="width: 100%">
        </table>
        <!--          Renderer templates -->
        <ng-template #selectFundingPlanCheckboxRenderer let-data="adtData">
          <app-select-funding-request-checkbox-cell-renderer [data]="data" id="fprId" (emitter)="onCaptureFPSelectedEvent($event)"></app-select-funding-request-checkbox-cell-renderer>
        </ng-template>
        <ng-template #searchFundingPlanActionRenderer let-data="adtData">
          <app-search-funding-request-action-cell-renderer [data]="data" (emitter)="onOpenFundingPlan($event)"></app-search-funding-request-action-cell-renderer>
        </ng-template>
        <ng-template #searchFundingPlanFoasRenderer let-data="adtData">
          <app-search-funding-plan-foas-cell-renderer [data]="data"></app-search-funding-plan-foas-cell-renderer>
        </ng-template>
      </div>
  </div>
  </div>
