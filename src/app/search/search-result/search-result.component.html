  <app-batch-approve-modal></app-batch-approve-modal>
  <div class="row">
    <div class="col-12">
      <h2>Results {{(filterTypeLabel && (showFundingRequestResult || showFundingPlanResult || showGrantResult)) ? '- ' + filterTypeLabel : ''}}</h2>
      <p *ngIf="showFundingRequestResult || showFundingPlanResult || showGrantResult"><img src="images/info.png" alt="INFO" width="15" height="10"><small class="text-muted">To apply sorting order to multiple columns, hold down the Shift key and click the header of
        each additional column that you want to sort.</small></p>
      <p *ngIf="!(showFundingRequestResult || showFundingPlanResult || showGrantResult)">No results to display. Try applying a filter above and clicking "Search".</p>
    </div>
  </div>
  <div class="row form-group">
    <div class="col-lg-12 d-flex" *ngIf="(showFundingRequestResult || showFundingPlanResult)">
      <button class="btn btn-primary" *ngIf="runReportEnabled" (click)="runDetailedReport()" >Report</button>
      <span *ngIf="!runReportEnabled" ngbTooltip="Select one or more request(s) or plan(s) to run Report">
        <button class="btn btn-primary" disabled>Report</button>
      </span>
      &nbsp;&nbsp;
      <span *ngIf="batchApproveVisible" >
      <button  class="btn btn-primary mt-3" (click)="showBatchApproveModal()" *ngIf="batchApproveEnabled">Batch Approve</button>
      <span  *ngIf="!batchApproveEnabled" ngbTooltip="Select one or more eligible request(s) or plan(s) to perform batch approve">
        <button class="btn btn-primary" disabled>Batch Approve</button>
      </span>
    </span>
    </div>

  </div>
  <div class="row"  [hidden]="!showFundingRequestResult">
    <div class="col-12">
      <div>
        <table id="frDt" datatable [dtOptions]="dtFundingRequestOptions" [dtTrigger]="dtFundingRequestTrigger" class="row-border hover" style="width: 100%">
        </table>
        <!--          Renderer templates -->
        <ng-template #searchFundingRequestActionRenderer let-data="adtData">
          <app-search-funding-request-action-cell-renderer [data]="data" (emitter)="onOpenFundingRequest($event)"></app-search-funding-request-action-cell-renderer>
        </ng-template>
      </div>
    </div>
  </div>
  <div class="row" [hidden]="!showFundingPlanResult">
    <div class="col-12">
      <div >
        <table id="fpDt" datatable [dtOptions]="dtFundingPlanOptions" [dtTrigger]="dtFundingPlanTrigger" class="row-border hover" style="width: 100%">
        </table>
        <!--          Renderer templates -->
        <ng-template #searchFundingPlanActionRenderer let-data="adtData">
          <app-search-funding-request-action-cell-renderer [data]="data" (emitter)="onOpenFundingPlan($event)"></app-search-funding-request-action-cell-renderer>
        </ng-template>
        <ng-template #searchFundingPlanFoasRenderer let-data="adtData">
          <app-search-funding-plan-foas-cell-renderer [data]="data"></app-search-funding-plan-foas-cell-renderer>
        </ng-template>
      </div>
    </div>
  </div>
  <div class="row" [hidden]="!showGrantResult">
    <div class="col-12">
      <div >
        <table id="gDt" datatable [dtOptions]="dtGrantOptions" [dtTrigger]="dtGrantTrigger" class="row-border hover" style="width: 100%">
        </table>
        <!--          Renderer templates -->
        <ng-template #existInRequestRenderer let-data="adtData">
          <app-search-grant-exist-in-request-cell-renderer [data]="data" (emitter)="onRequestSelect($event)"></app-search-grant-exist-in-request-cell-renderer>
        </ng-template>
        <ng-template #existInPlanRenderer let-data="adtData">
          <app-search-grant-exist-in-plan-cell-renderer [data]="data" (emitter)="onPlanSelect($event)"></app-search-grant-exist-in-plan-cell-renderer>
        </ng-template>
        <ng-template #existInPaylistRenderer let-data="adtData">
          <app-search-grant-exist-in-paylist-cell-renderer [data]="data" (emitter)="onPaylistSelect($event)"></app-search-grant-exist-in-paylist-cell-renderer>
        </ng-template>
      </div>
    </div>
  </div>

  <ng-template #fullGrantNumberRenderer let-data="adtData">
    <app-full-grant-number-cell-renderer [data]="data" [eGrantsUrl]="eGrantsUrl" [grantViewerUrl]="grantViewerUrl"></app-full-grant-number-cell-renderer>
  </ng-template>
  <ng-template #cancerActivityRenderer let-data="adtData">
    <app-cancer-activity-cell-renderer [data]="data"></app-cancer-activity-cell-renderer>
  </ng-template>
