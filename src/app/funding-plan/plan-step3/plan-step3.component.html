<form #step3form="ngForm"
      (ngSubmit)="onSubmit($event)"
      [class.submitted]="step3form.submitted"
      appPdNameRequired
      appCancerActivityRequired
      appFundingInformationValidator>

  <div class="row">
    <div class="col-lg-12">
      <h2>General Information</h2>
    </div>

    <div class="col-lg-6">
      <div class="form-group">
        <label for="fp-name">Funding Plan Name</label>
        <input
          name="fundingPlanName"
          #fundingPlanName="ngModel"
          [(ngModel)]="planName"
          type="text"
          id="fp-name"
          class="form-control"
          maxlength="100"
          required>
        <div
          class="text-danger mt-1"
          *ngIf="fundingPlanName.errors?.required && (step3form.submitted || step3form.touched)">
          Plan name is required
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="form-group">
        <lib-pdname-dropdown
          label="Requesting PD"
          [broadcast]="true"
          [syncWithCa]="false"
          [showInactiveToggle]="false">
        </lib-pdname-dropdown>
        <div
          class="text-danger mt-1"
          *ngIf="step3form.errors?.pdNameRequired && (step3form.submitted || step3form.touched)">
          PD is required
        </div>
      </div>
    </div>
    <div class="col-lg-2">
      <div class="form-group">
        <lib-cancer-activities-dropdown
          [selectSingleOption]="true"
          [maxSelection]="1"
          [syncWithPd]="true"
          label="CA"
          [broadcast]="true"
          required>
        </lib-cancer-activities-dropdown>
        <div
          class="text-danger mt-1"
          *ngIf="step3form.errors?.cayCodeIsRequired && (step3form.submitted || step3form.touched)">
          Cancer activity is required
        </div>
      </div>
    </div>


    <div class="col-lg-6">
      <app-other-docs-contributing-funds></app-other-docs-contributing-funds>
    </div>

    <div class="col-12">
      <hr>
    </div>

  </div><!-- END Row -->

  <app-funding-plan-information [parentForm]="step3form"></app-funding-plan-information>


  <app-fp-funding-information [parentForm]="step3form"></app-fp-funding-information>


  <app-applications-proposed-for-funding [parentForm]="step3form"></app-applications-proposed-for-funding>


  <div class="row">
    <div class="col-12 d-flex">
      <button type="button" class="btn btn-outline-secondary mr-auto" (click)="previous()">Previous</button>
      <button type="submit" class="btn btn-outline-primary mr-2" (click)="saveAsDraft()">Save as Draft</button>
      <button type="submit" class="btn btn-primary" (click)="saveContinue()">Save and Continue</button>
    </div>
  </div>
</form>
